<div class="row">
    <div class="col-md-10 center-block">
        <button ng-click="add_device()" type="button" class="btn btn-primary" style="margin-left: -15px;">{{ 'device_newdevice' | translate }}</button>
    </div>
</div>

<div class="row" ng-repeat="device in devices">
    <div class="col-md-9 center-block campaigns_block">
        <div class="row">
            <div class="device clearfix">
                <div class="device-info">
                    <div class="top-block">
                        <h3 class="pull-left">{{ 'device_devicenumber' | translate }}: {{device.uuid}}</h3>
                        <span ng-if="device.status == 1" class="label label-warning pull-right">{{ 'device_used' | translate }}</span>
                        <span ng-if="device.status == 2" class="label label-success pull-right">{{ 'device_online' | translate }}</span>
                        <span ng-if="device.status == 3" class="label label-danger pull-right">{{ 'device_off' | translate }}</span>
                    </div>
                    <textarea ng-model="device.description" placeholder="{{ 'device_description' | translate }}"></textarea>
                    <p class="free-space">{{ 'device_space' | translate }}: {{ device.space |  bytes }}</p>
                    <div class="bottom-block">
                        <a class="pull-left btn btn-default" href="javascript:void(0)"><span class="glyphicon glyphicon-cog"></span>Скрыть настройки</a>
                        <p class="pull-right">
                            {{ 'device_updatedate' | translate }}:<br/> {{timeconvert(device.lastRequestDate)}}
                        </p>
                    </div>
                </div>
                <div class="company-info success" ng-class="device.status == 2 ? 'success' ? (device.status == 1 ? 'warning' : 'danger')">
                    <h4>{{ 'device_currentcompany' | translate }}</h4>
                    <p>Кампания Наполеона </p>
                    <ul>
                        <li><span class="glyphicon glyphicon-play"></span> testvideo.mov</li>
                        <li><span class="glyphicon glyphicon-play"></span> testaudiotest.mp3</li>
                    </ul>
                    <h4>{{ 'device_companyloading' | translate }}</h4>

                    <p class="progress-name">Кампания Наполеона 2</p>

                    <div class="progress">
                        <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 77%;">
                            77%
                        </div>
                    </div>
                </div>
            </div>

            <div class="preferences-wrap">
                <div class="preferences">
                    <div class="row">
                        <div class="col-md-5 col-xs-3 col-sm-4"><label>{{ 'device_cache' | translate }}</label></div>
                        <div class="col-md-7 col-xs-9 col-sm-8">
                            <p class="pull-left">{{ device.cache |  bytes }}</p>
                            <button type="button" class="btn btn-warning pull-right">{{ 'device_clearcache' | translate }}</button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-5 col-xs-3 col-sm-4"><label>{{ 'device_orientation' | translate }}</label></div>
                        <div class="col-md-7 col-xs-9 col-sm-8">
                            <select class="styler" ng-model="device.orientation">
                                <option value="1">{{ 'device_horizontalorientation' | translate }}</option>
                                <option value="2">{{ 'device_verticalorientation' | translate }}</option>
                                <option value="3">{{ 'device_verticalorientation_emu' | translate }}</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-5 col-xs-3 col-sm-4"><label>{{ 'device_audioaut' | translate }}</label></div>
                        <div class="col-md-7 col-xs-9 col-sm-8">
                            <select class="styler" ng-model="device.audioOut">
                                <option value="1">HDMI</option>
                                <option value="2">Mini jack</option>
                            </select>
                        </div>
                    </div>

                    <div class="row" style="padding-top:20px;">
                        <div class="col-md-5 col-xs-3 col-sm-4"><label>{{ 'device_choosecampaign' | translate }}</label></div>
                        <div class="col-md-7 col-xs-9 col-sm-8">
                            <ul class="opting-list btn-group" data-toggle="buttons">
                                <li ng-repeat="campaign in campaigns"
                                    ng-show="device.campaignId.indexOf(campaign.id) != -1">
                                    <label class="btn btn-primary active">
                                        <input type="checkbox" autocomplete="off" checked><span class="glyphicon glyphicon-play"></span> {{campaign.name}}
                                    </label>
                                    <a class="close" href="#"><span class="glyphicon glyphicon-remove"></span></a>
                                </li>     
                            </ul>
                            <button type="button" class="btn btn-info pull-right" data-toggle="modal" data-target="#add-company">{{ 'device_addcampaign' | translate }}</button>
                        </div>
                    </div>

                    <div class="row" style="padding-top:20px;">
                        <div class="col-md-5 col-xs-3 col-sm-4"><label>{{ 'campaign_edit_workdays' | translate }}</label></div>
                        <div class="col-md-7 col-xs-9 col-sm-8">
                            <div class="btn-group days" data-toggle="buttons">
                               <label  class="btn btn-primary " ng-repeat="day in workdays">
                                     {{ day | translate }}
                                </label>
                            </div>
                        </div>
                    </div>
                    <div  class="row operation-time">
                        <div class="col-md-5 col-xs-3 col-sm-4"><label>{{ 'device_worktime' | translate }}</label></div>
                        <div class="col-md-7 col-xs-9 col-sm-8">
                            <ul>
                                <li></span></li>
                                <li>
                                    <select class="styler">
                                        <option ng-repeat="hour in workhours">{{hour}}</option>
                                    </select>
                                </li>
                                <li><span> - </span></li>
                                <li>
                                    <select class="styler">
                                        <option ng-repeat="hour in workhours">{{hour}}</option>
                                    </select>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="button-wrap">
                    <div class="form-group">
                        <button type="submit" ng-click="change_device(device)" class="btn btn-primary ng-binding">{{ 'device_save' | translate }}</button>
                        <button type="button" class="btn btn-default ng-binding" style="margin-left: 15px;">Отмена</button>
                        <button type="button" ng-click="delete_device(device)" class="btn btn-default pull-right" >{{ 'device_remove' | translate }}</button>
                    </div>
                </div>
            </div>

            <div class="device clearfix">
                <div class="device-info">
                    <div class="top-block">
                        <h3 class="pull-left">Номер устройства: 123456</h3>
                        <span class="label label-warning pull-right">Ожидание</span>
                    </div>
                    <textarea>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </textarea>
                    <p class="free-space">Свободное место: 6гб</p>
                    <div class="bottom-block">
                        <a class="pull-left btn btn-default" href="#"><span class="glyphicon glyphicon-cog"></span>Показать настройки</a>
                        <p class="pull-right">
                            Дата обновления:<br/>02.11.14 10:00
                        </p>
                    </div>
                </div>
                <div class="company-info warning">
                    <h4>Проигрывается кампания</h4>
                    <p>Кампания Наполеона </p>
                    <ul>
                        <li><span class="glyphicon glyphicon-play"></span> testvideo.mov</li>
                        <li><span class="glyphicon glyphicon-play"></span> testaudiotest.mp3</li>
                    </ul>
                    <h4>Идет загрузка кампании</h4>

                    <p class="progress-name">Кампания Наполеона 2</p>

                    <div class="progress">
                        <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 77%;">
                            77%
                        </div>
                    </div>
                </div>
            </div>

            <div class="device clearfix">
                <div class="device-info">
                    <div class="top-block">
                        <h3 class="pull-left">Номер устройства: 123456</h3>
                        <span class="label label-danger pull-right">Остановлено</span>
                    </div>
                    <textarea>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </textarea>
                    <p class="free-space">Свободное место: 6гб</p>
                    <div class="bottom-block">
                        <a class="pull-left btn btn-default" href="#"><span class="glyphicon glyphicon-cog"></span>Показать настройки</a>
                        <p class="pull-right">
                            Дата обновления:<br/>02.11.14 10:00
                        </p>
                    </div>
                </div>
                <div class="company-info danger">
                    <h4>Проигрывается кампания</h4>
                    <p>Кампания Наполеона </p>
                    <ul>
                        <li><span class="glyphicon glyphicon-play"></span> testvideo.mov</li>
                        <li><span class="glyphicon glyphicon-play"></span> testaudiotest.mp3</li>
                    </ul>
                    <h4>Идет загрузка кампании</h4>

                    <p class="progress-name">Кампания Наполеона 2</p>

                    <div class="progress">
                        <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 77%;">
                            77%
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Modal sorting-->
<div class="modal fade" id="add-company" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only"></span></button>
                <h4 class="modal-title" id="myModalLabel">{{ 'device_addcampaign' | translate }}</h4>
            </div>
            <div class="modal-body">
                <div class="add-company-list mCustomScrollbar">
                    <ul class="btn-group" data-toggle="buttons">
                        <li ng-repeat="campaign in campaigns">
                           <label  class="btn btn-primary ">
                                <input type="checkbox"  >
                                {{campaign.name}}
                                <span class="glyphicon glyphicon-ok"></span>
                            </label>
                        </li>
                    </ul>
                </div>

                <div class="bottom-buttons">
                    <button type="button" class="btn btn-success">{{ 'device_add' | translate }} </button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">{{ 'campaign_edit_cancel' | translate }}</button>
                </div>
            </div>
        </div>
    </div>
</div>

